

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pause &mdash; ZAB 0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="wait_for" href="wait_for.html" />
    <link rel="prev" title="yield" href="yield.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ZAB
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="lib_root.html">ZAB Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Geting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_library.html">Core Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="coroutines.html">Coroutines</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="async_primitives.html">Asynchronous Primitives</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="yield.html">yield</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">pause</a></li>
<li class="toctree-l3"><a class="reference internal" href="wait_for.html">wait_for</a></li>
<li class="toctree-l3"><a class="reference internal" href="first_of.html">first_of</a></li>
<li class="toctree-l3"><a class="reference internal" href="proxy.html">proxy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="async_sync.html">Asynchronous Synchronisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="observable.html">Observables</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_io.html">File IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="networking.html">Networking</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ZAB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="lib_root.html">ZAB Documentation</a> &raquo;</li>
        
          <li><a href="async_primitives.html">Asynchronous Primitives</a> &raquo;</li>
        
      <li>pause</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/lib/pause.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pause">
<span id="id1"></span><h1>pause<a class="headerlink" href="#pause" title="Permalink to this headline">¶</a></h1>
<p>Pause the execution of the current coroutine until it is manually resumed. Useful for deferring for an unspecified or unknown amount of time. For example, waiting for the user to do something.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Example</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">async_function</span>
<span class="n">your_class</span><span class="o">::</span><span class="n">do_pause</span><span class="p">()</span> <span class="k">noexcept</span>
<span class="p">{</span>
    <span class="n">pause_pack</span> <span class="n">return_pp</span> <span class="o">=</span> <span class="k">co_await</span> <span class="n">pause</span><span class="p">(</span>
        <span class="p">[]</span>
        <span class="p">(</span><span class="n">pause_pack</span><span class="o">*</span> <span class="n">_pp</span><span class="p">)</span> <span class="k">noexcept</span>
            <span class="p">{</span>
                <span class="cm">/* resume the coroutine in thread 1*/</span>
                <span class="n">_pp</span><span class="o">-&gt;</span><span class="n">thread_</span> <span class="o">=</span> <span class="n">thread_t</span><span class="p">{</span><span class="mi">1</span><span class="p">};</span>
                <span class="cm">/* Set the data to 42 */</span>
                <span class="n">_pp</span><span class="o">-&gt;</span><span class="n">data_</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
                <span class="cm">/* wait 10 seconds and resume */</span>
                <span class="n">unpause</span><span class="p">(</span><span class="n">_pp</span><span class="p">,</span> <span class="n">order</span><span class="o">::</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">order</span><span class="o">::</span><span class="n">seconds</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">);</span>

    <span class="cm">/* now executing in thread 1 */</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">return_pp</span><span class="p">.</span><span class="n">data_</span> <span class="o">==</span> <span class="mi">42</span><span class="p">);</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">return_pp</span><span class="p">.</span><span class="n">thread_</span><span class="p">.</span><span class="n">thread_</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">pause_pack</span></code> has a non-owning reference to the coroutines state and also provides two options to set for resumption: The data to return and the thread to resume in.</p>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N3zab10pause_packE">
<span id="_CPPv3N3zab10pause_packE"></span><span id="_CPPv2N3zab10pause_packE"></span><span id="zab::pause_pack"></span><span class="target" id="structzab_1_1pause__pack"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">zab</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">pause_pack</span></span></span><a class="headerlink" href="#_CPPv4N3zab10pause_packE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Data pack for pausing coroutines. </p>
<p><ul class="simple">
<li><p>thread_: The thread to resume the coroutine in.</p></li>
<li><p>data_ : Any data that you wish to pass to the coroutine.</p></li>
<li><p>handle_: The coroutine to resume. </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3zab10pause_pack7thread_E">
<span id="_CPPv3N3zab10pause_pack7thread_E"></span><span id="_CPPv2N3zab10pause_pack7thread_E"></span><span id="zab::pause_pack::thread___thread_t"></span><span class="target" id="structzab_1_1pause__pack_1a7846c8d2b9cffb0f318717b8339d53b8"></span><a class="reference internal" href="ordering_and_threads.html#_CPPv4N3zab8thread_tE" title="zab::thread_t"><span class="n"><span class="pre">thread_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">thread_</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="ordering_and_threads.html#_CPPv4N3zab8thread_tE" title="zab::thread_t"><span class="n"><span class="pre">thread_t</span></span></a><span class="p"><span class="pre">{</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N3zab10pause_pack7thread_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3zab10pause_pack5data_E">
<span id="_CPPv3N3zab10pause_pack5data_E"></span><span id="_CPPv2N3zab10pause_pack5data_E"></span><span id="zab::pause_pack::data___std::intptr_t"></span><span class="target" id="structzab_1_1pause__pack_1a358fb4c6aaa663ec11d1a8b9708ecb65"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">intptr_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N3zab10pause_pack5data_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3zab10pause_pack7handle_E">
<span id="_CPPv3N3zab10pause_pack7handle_E"></span><span id="_CPPv2N3zab10pause_pack7handle_E"></span><span id="zab::pause_pack::handle___std::coroutine_handle"></span><span class="target" id="structzab_1_1pause__pack_1a10a3ca5fa635edd8f0a4e1360f401f05"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">coroutine_handle</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handle_</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N3zab10pause_pack7handle_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">pause(...)</span></code> will give the Functor a non-owner ptr to the pause_pack. This ptr is valid until <code class="docutils literal notranslate"><span class="pre">unpause</span></code> has been called with it.</p>
<p>//TODO: fix doxygen generation of functions with concepts…</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “zab::pause” in doxygen xml output for project “ZAB” from directory: xml</p>
</div>
<p>After the coroutine has been paused <code class="docutils literal notranslate"><span class="pre">thread_</span></code> and <code class="docutils literal notranslate"><span class="pre">data_</span></code> can be set to the desired state and then the coroutine can be resumed using <code class="docutils literal notranslate"><span class="pre">unpause(...)</span></code>. This resumption is thread-safe so may be called in any thread, but the coroutine will be resumed in the thread specified by  <code class="docutils literal notranslate"><span class="pre">thread_</span></code>.</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3zab7unpauseEP6engineR10pause_pack7order_t">
<span id="_CPPv3N3zab7unpauseEP6engineR10pause_pack7order_t"></span><span id="_CPPv2N3zab7unpauseEP6engineR10pause_pack7order_t"></span><span id="zab::unpause__engineP.pause_packR.order_t"></span><span class="target" id="pause_8hpp_1a4eeff482493e4a80f8054e2df402a222"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">zab</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">unpause</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="engine.html#_CPPv4N3zab6engineE" title="zab::engine"><span class="n"><span class="pre">engine</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">_engine</span></span>, <a class="reference internal" href="#_CPPv4N3zab10pause_packE" title="zab::pause_pack"><span class="n"><span class="pre">pause_pack</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">_pause</span></span>, <a class="reference internal" href="ordering_and_threads.html#_CPPv4N3zab7order_tE" title="zab::order_t"><span class="n"><span class="pre">order_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">_order</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4N3zab7unpauseEP6engineR10pause_pack7order_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Continues a paused corountine. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_pause</strong> – The pause pack to resume. </p></li>
<li><p><strong>_order</strong> – <strong>[in]</strong> The ordering to apply. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3zab7unpauseEP6engineR10pause_pack">
<span id="_CPPv3N3zab7unpauseEP6engineR10pause_pack"></span><span id="_CPPv2N3zab7unpauseEP6engineR10pause_pack"></span><span id="zab::unpause__engineP.pause_packR"></span><span class="target" id="pause_8hpp_1a2b20a3101db006fd04b8afafcd7c06ef"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">zab</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">unpause</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="engine.html#_CPPv4N3zab6engineE" title="zab::engine"><span class="n"><span class="pre">engine</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">_engine</span></span>, <a class="reference internal" href="#_CPPv4N3zab10pause_packE" title="zab::pause_pack"><span class="n"><span class="pre">pause_pack</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">_pause</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4N3zab7unpauseEP6engineR10pause_pack" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Continues a paused corountine. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_pause</strong> – The pause pack to resume. </p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="wait_for.html" class="btn btn-neutral float-right" title="wait_for" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="yield.html" class="btn btn-neutral float-left" title="yield" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Donald Rupin.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>